# 🔍 问题诊断指南

## 错误信息
```
{"code":500,"message":"系统异常，请联系管理员","data":null}
Failed to load resource: the server responded with a status of 404 ()
```

## 可能的原因

### 1. 后端未运行 ⚠️
**症状**: 所有 API 请求都返回 404

**解决方案**:
```bash
# 检查后端是否运行
# 在浏览器访问: http://localhost:8080/api/user/login

# 如果无法访问，启动后端
# 在 IDEA 中运行 CloudNoteApplication
```

### 2. 前端路由问题
**症状**: 刷新页面后出现 404

**解决方案**:
```bash
# 清除浏览器缓存
localStorage.clear()
sessionStorage.clear()

# 强制刷新页面
Ctrl + F5
```

### 3. 端口冲突
**症状**: 前端无法启动或访问

**解决方案**:
```bash
# 检查端口占用
netstat -ano | findstr :5173
netstat -ano | findstr :8080

# 如果端口被占用，关闭占用进程或更改端口
```

---

## 🔧 诊断步骤

### 步骤 1: 检查后端
1. 打开浏览器访问: `http://localhost:8080/api/user/login`
2. 如果看到错误信息（不是 404），说明后端正常运行
3. 如果看到 404 或无法访问，说明后端未运行

**后端正常的响应**:
```json
{
  "code": 500,
  "message": "用户名或密码错误",
  "data": null
}
```

### 步骤 2: 检查前端
1. 打开浏览器控制台（F12）
2. 切换到 **Network（网络）** 标签
3. 刷新页面
4. 查看所有请求，找到返回 404 的请求
5. 记录请求的 URL

### 步骤 3: 检查浏览器控制台
1. 打开浏览器控制台（F12）
2. 切换到 **Console（控制台）** 标签
3. 查看是否有红色错误信息
4. 记录完整的错误信息

---

## 🚀 快速修复

### 方案 1: 重启所有服务

**后端**:
```bash
# 在 IDEA 中停止后端
# 重新运行 CloudNoteApplication
```

**前端**:
```bash
# 停止前端（Ctrl + C）
cd front_end
npm run dev
```

### 方案 2: 清除所有缓存

**浏览器**:
```javascript
// 在浏览器控制台执行
localStorage.clear()
sessionStorage.clear()
location.reload()
```

**前端**:
```bash
cd front_end
rm -rf node_modules/.vite
npm run dev
```

### 方案 3: 检查路由配置

访问以下 URL，看哪个能正常访问：

1. `http://localhost:5173/` - 前端首页
2. `http://localhost:8080/api/user/login` - 后端 API

---

## 📋 常见问题

### Q1: 页面完全空白
**A**: 前端未启动或端口错误
```bash
cd front_end
npm run dev
# 确认显示: Local: http://localhost:5173/
```

### Q2: 登录时提示 404
**A**: 后端未启动
```bash
# 在 IDEA 中启动 CloudNoteApplication
# 确认控制台显示: Started CloudNoteApplication
```

### Q3: 刷新页面后 404
**A**: 这是正常的，因为 Vite 开发服务器需要配置 history 模式
```javascript
// vite.config.js 已配置，不需要修改
```

### Q4: 路由跳转后页面空白
**A**: 可能是组件加载失败
```bash
# 检查浏览器控制台是否有错误
# 检查 Network 标签是否有失败的请求
```

---

## 🎯 当前问题分析

根据错误信息 `404`，最可能的原因是：

### 原因 1: 后端未运行（最可能）
- 前端尝试调用后端 API
- 后端没有响应
- 返回 404

**解决**: 启动后端服务

### 原因 2: 访问了不存在的路由
- 前端路由配置错误
- 访问了未定义的页面

**解决**: 检查路由配置

---

## 📞 需要提供的信息

如果问题仍未解决，请提供：

1. **浏览器控制台完整错误信息**
   - Console 标签的所有红色错误
   - Network 标签中 404 请求的详细信息

2. **后端控制台信息**
   - 是否显示 "Started CloudNoteApplication"
   - 是否有错误信息

3. **访问的 URL**
   - 当前浏览器地址栏的 URL
   - 是什么操作导致的 404

4. **Network 标签信息**
   - 哪个请求返回了 404
   - 请求的完整 URL
   - 请求方法（GET/POST）

---

## ✅ 验证修复

修复后，请验证：

1. [ ] 访问 `http://localhost:5173/` 能看到首页
2. [ ] 点击"登录"能跳转到登录页
3. [ ] 点击"注册"能跳转到注册页
4. [ ] 登录页顶部有"首页"按钮
5. [ ] 点击"首页"能返回首页
6. [ ] 浏览器控制台没有错误信息

---

**提示**: 90% 的 404 错误是因为后端未启动！
